// Неизменная API ссылка, к которой позже добавляется параметр country.
export const UNIVERSITIES_API = "http://universities.hipolabs.com/search";

// Переменная для хранения последнего собранного URL.
// Она нужна, чтобы всегда имелся доступ к последнему использованному адресу, даже без передачи его через props или state.
export let LAST_URL = "";

/**
 * Функция собирает полный URL для запроса университетов по стране.
 * countryRaw это исходная строка с названием страны (то, что ввёл пользователь).
 * Как итог возвращается строка с готовым URL, пригодным для отправки запроса.
 */
export function buildUniversitiesUrl(countryRaw: string): string {
  // trim чтобы удалять лишние пробелы в начале или конце строки.
  const country = countryRaw.trim();

  // Формирование строки URL путем добавления к базовому адресу параметра ?country=<название страны>.
  // encodeURIComponent гарантирует, что пробелы и спецсимволы превратятся в корректный формат URL.
  // Например: "United States" -> "United%20States"
  const url = `${UNIVERSITIES_API}?country=${encodeURIComponent(country)}`;

  // Сохранение последнего сформированного URL в глобальную переменную LAST_URL, для того
  // чтобы команда могла его использовать в других частях приложения.
  LAST_URL = url;

  // Как итог собранный URL возвращается, чтобы использовать его сразу же (например, в axios.get) и так далее.
  return url;
}
